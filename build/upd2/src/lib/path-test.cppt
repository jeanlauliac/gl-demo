#include "path.h"

@case "normalize_path() processes dot-dot" {
  auto result = upd::normalize_path("foo/../bar");
  @expect(result == "bar");
}

@case "normalize_path() processes dot" {
  auto result = upd::normalize_path("foo/./bar");
  @expect(result == "foo/bar");
}

@case "normalize_path() removes double separators" {
  auto result = upd::normalize_path("foo//bar");
  @expect(result == "foo/bar");
}

@case "normalize_path() removes end separator" {
  auto result = upd::normalize_path("foo/bar/");
  @expect(result == "foo/bar");
}

@case "normalize_path() processes absolute path" {
  auto result = upd::normalize_path("/foo/bar");
  @expect(result == "/foo/bar");
}

@case "normalize_path() processes bare absolute path" {
  auto result = upd::normalize_path("/");
  @expect(result == "/");
}
